<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SWADE Character Builder</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <!-- Left column ── Basics + Attributes + Skills -->
  <section class="panel" aria-labelledby="basics-heading">
    <header class="header-inputs">
      <div class="input-group">
        <label for="char-name">Hero Name</label>
        <input type="text" id="char-name" placeholder="Enter hero name" autocomplete="off">
      </div>
      <div class="input-group">
        <label for="race-select">Race / Ancestry</label>
        <select id="race-select" aria-describedby="race-desc"></select>
      </div>
    </header>

    <p id="race-desc" class="race-description"></p>

    <div class="section-header">
      <h2 id="basics-heading">Attributes</h2>
      <div id="attr-tracker" class="stat-pill" aria-live="polite">Points: 5</div>
    </div>
    <div id="attr-list" class="stat-rows"></div>

    <div class="section-header">
      <h2>Skills</h2>
      <div id="skill-tracker" class="stat-pill" aria-live="polite">Points: 12</div>
    </div>
    <div id="active-skills" class="stat-rows"></div>
    <select id="skill-add" class="add-selector" aria-label="Add new skill">
      <option value="">+ Add Skill</option>
    </select>
  </section>

  <!-- Middle column ── Derived + Edges + Hindrances -->
  <section class="panel" aria-labelledby="derived-heading">
    <div class="derived-bar" role="region" aria-label="Derived statistics">
      <div class="stat-box" id="stat-box-pace">
        <span>Pace</span>
        <strong id="stat-pace">6</strong>
      </div>
      <div class="stat-box" id="stat-box-size">
        <span>Size</span>
        <strong id="stat-size">0</strong>
      </div>
      <div class="stat-box" id="stat-box-parry">
        <span>Parry</span>
        <strong id="stat-parry">2</strong>
      </div>
      <div class="stat-box" id="stat-box-tough">
        <span>Toughness</span>
        <strong id="stat-tough">4</strong>
      </div>
    </div>

    <div class="section-header">
      <h2 id="derived-heading">Derived Stats</h2>
    </div>

    <div class="section-header">
      <h3 style="color: var(--edge)">Edges</h3>
      <div id="edge-tracker" class="stat-pill" aria-live="polite">0 / 1</div>
    </div>
    <div id="edge-list" class="card-container"></div>

    <div class="section-header">
      <h3 style="color: var(--hind)">Hindrances</h3>
      <div id="hind-bank" class="stat-pill" style="background: var(--accent)" aria-live="polite">Bank: 0</div>
    </div>
    <div id="active-hindrances" class="hindrance-list"></div>
    <select id="hindrance-add" class="add-selector" aria-label="Add hindrance">
      <option value="">+ Add Hindrance</option>
    </select>

    <div id="reward-ui" class="reward-section" role="region" aria-label="Spend hindrance points" hidden>
      <p><strong>Spend Hindrance Points:</strong></p>
      <div class="button-group">
        <button class="btn-action" onclick="window.spendPoints('attr')">+1 Attribute (2 pts)</button>
        <button class="btn-action" onclick="window.spendPoints('edge')">+1 Edge     (2 pts)</button>
        <button class="btn-action" onclick="window.spendPoints('skill')">+1 Skill    (1 pt)</button>
        <button class="btn-action danger" onclick="window.resetRewards()">Reset</button>
      </div>
    </div>
  </section>

  <!-- Right column ── Gear + Export -->
  <section class="panel" aria-labelledby="gear-heading">
    <div class="section-header">
      <h2 id="gear-heading" style="color: var(--gear)">Gear & Equipment</h2>
      <div id="gold-tracker" class="stat-pill" style="background: var(--accent)" aria-live="polite">$500</div>
    </div>

    <div class="derived-bar compact">
      <div class="stat-box" style="background: var(--gear)">
        <span>Weight Carried</span>
        <strong id="stat-weight">0 / 20</strong>
      </div>
    </div>

    <div id="gear-list" class="card-container"></div>

    <div class="section-header">
      <h3 style="color: var(--primary)">Export Character</h3>
    </div>
    <button type="button" class="export-btn" onclick="window.exportStatblock()">
      Generate & Copy Statblock
    </button>
    <label for="export-output" class="visually-hidden">Generated statblock (Markdown)</label>
    <textarea id="export-output" class="export-area" readonly aria-live="polite"></textarea>
  </section>

  <script type="module" src="app.js"></script>
</body>
</html>